{"version":3,"sources":["userbasicinfo.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"userbasicinfo.js","sourcesContent":["$(document).ready(function() {\r\n    /**\r\n     * 锁定用户\r\n     */\r\n     $(\".lockuser\").each(function(index, el) {\r\n         $(el).click(function(event) {\r\n             var id = $(el).attr('id');\r\n             $.ajax({\r\n                 url: '/user/lockuser/' + id,\r\n                 type: 'GET',\r\n                 dataType: 'json'\r\n             })\r\n             .done(function(data) {\r\n                 if (data) {\r\n                     $(el).attr('class', 'lockuser btn btn-danger');\r\n                     $(el).text('锁定');\r\n                     $(\"td:contains('状态')\").next().text('正常');\r\n                 } else {\r\n                     $(el).attr('class', 'lockuser btn btn-info');\r\n                     $(el).text('解锁');\r\n                     $(\"td:contains('状态')\").next().text('锁定');\r\n                 }\r\n             })\r\n             .fail(function() {\r\n                 console.log(\"error\");\r\n             })\r\n             .always(function() {\r\n                 console.log(\"complete\");\r\n             });\r\n\r\n         });\r\n     });\r\n\r\n     /**\r\n      * 通知单个用户\r\n      */\r\n      $(\"#send_message\").bind('click', function(event) {\r\n          var ids = [$(\"#notifyuser\").attr('data-value')];\r\n          console.log($(\"#notifyuser\").attr('data-value'));\r\n          $confirm = confirm('确定要通知用户?');\r\n          if ($confirm) {\r\n              switch ($(\"#select_multi\").val()) {\r\n                  case '1':\r\n                     var message = '账号到期';\r\n                      break;\r\n                  case '2':\r\n                     var message = '资料到期';\r\n                      break;\r\n                  case '3':\r\n                     var message = '违规与禁言';\r\n                      break;\r\n                  case '4':\r\n                     var message = '重新提交资料:' + $(\"input[name='message']\").val();\r\n                      break;\r\n                  default:\r\n              }\r\n              $.ajax({\r\n                  url: '/user/notifyUsers',\r\n                  type: 'POST',\r\n                  dataType: 'json',\r\n                  data: {\r\n                      'user_id': ids,\r\n                      'message': message\r\n                  },\r\n                  headers: {\r\n                      'X-CSRF-TOKEN': $(\"input[name=_token]\").val()\r\n                  }\r\n              })\r\n              .done(function() {\r\n                  alert(\"通知成功！\");\r\n                  // 关闭模态框\r\n                  $(\".m_notify_all\").modal('hide');\r\n                  // 取消所有的选中项\r\n                  $(\"input[name='user_action[]']:checked\").each(function(index, el) {\r\n                      $(el).prop('checked', false);\r\n                  });\r\n              })\r\n              .fail(function() {\r\n                  alert('通知失败！');\r\n                  // 关闭模态框\r\n                  $(\".m_notify_all\").modal('hide');\r\n                  // 取消所有的选中项\r\n                  $(\"input[name='user_action[]']:checked\").each(function(index, el) {\r\n                      $(el).prop('checked', false);\r\n                  });\r\n              })\r\n          }\r\n      });\r\n});\r\n"],"sourceRoot":"/source/"}