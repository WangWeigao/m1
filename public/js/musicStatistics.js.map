{"version":3,"sources":["musicStatistics.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"musicStatistics.js","sourcesContent":["$(document).ready(function() {\r\n    $.ajax({\r\n        url: '/music/condations',\r\n        type: 'GET',\r\n        dataType: 'json',\r\n        headers : {\r\n            'X-CSRF-TOKEN': $('input[name=\"_token\"]').val()\r\n        }\r\n    })\r\n    .done(function(data) {\r\n        /**\r\n         * 拉取“乐器”列表\r\n         */\r\n        $.each(data.instrument, function(n, value) {\r\n            var $str = \"\";\r\n            $str = \"<option value=\" + value.id + \">\" + value.name + \"</option>\";\r\n            $(\"#stat_instrument\").append($str);\r\n            $(\"#stat_instrument\").val(\"0\");\r\n        });\r\n    })\r\n    .fail(function() {\r\n        console.log(\"error\");\r\n    });\r\n\r\n    $(\"#stat_instrument\").bind('change', function(event) {\r\n        /**\r\n         * 使用Ajax取得数据\r\n         */\r\n        $.ajax({\r\n            url: '/music/musicStatisticsByInstrument',\r\n            type: 'GET',\r\n            dataType: 'json',\r\n            data: {instrumentValue: $(\"#stat_instrument\").val()}\r\n        })\r\n        .done(function(data) {\r\n            console.log(\"success\");\r\n            /**\r\n             * 选中乐器总计\r\n             */\r\n            $(\".stat_result_instrument span:eq(0)\").text(data.allCount);\r\n            $(\".stat_result_instrument span:eq(1)\").text(data.onshelfCount);\r\n            $(\".stat_result_instrument span:eq(2)\").text(data.waitForCheck);\r\n            $(\".stat_result_instrument span:eq(3)\").text(data.deleteCount);\r\n            /**\r\n             * 选中乐器中\"业余考级\"乐曲情况统计\r\n             */\r\n            $(\".stat_result_instrument span:eq(4)\").text(data.amateur_onshelfCount);\r\n            $(\".stat_result_instrument span:eq(5)\").text(data.amateur_waitForCheck);\r\n            $(\".stat_result_instrument span:eq(6)\").text(data.amateur_deleteCount);\r\n            /**\r\n             * 选中乐器中\"专业考级\"乐曲情况统计\r\n             */\r\n            $(\".stat_result_instrument span:eq(7)\").text(data.pro_onshelfCount);\r\n            $(\".stat_result_instrument span:eq(8)\").text(data.pro_waitForCheck);\r\n            $(\".stat_result_instrument span:eq(9)\").text(data.pro_deleteCount);\r\n            /**\r\n             * 选中乐器中\"热门曲目\"乐曲情况统计\r\n             */\r\n            $(\".stat_result_instrument span:eq(10)\").text(data.hot_onshelfCount);\r\n            $(\".stat_result_instrument span:eq(11)\").text(data.hot_waitForCheck);\r\n            $(\".stat_result_instrument span:eq(12)\").text(data.hot_deleteCount);\r\n        })\r\n        .fail(function() {\r\n            console.log(\"error\");\r\n        })\r\n        .always(function() {\r\n            console.log(\"complete\");\r\n        });\r\n\r\n    });\r\n\r\n});\r\n"],"sourceRoot":"/source/"}